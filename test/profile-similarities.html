<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Interactive Profile Similarity Visualization</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: #f5f5f5;
      overflow-x: hidden;
    }
    
    .header {
      background: white;
      padding: 20px 40px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-bottom: 0;
    }
    
    h1 {
      color: #333;
      font-size: 28px;
    }
    
    .subtitle {
      color: #666;
      margin-top: 8px;
      font-size: 14px;
    }
    
    .main-container {
      display: flex;
      height: calc(100vh - 120px);
    }
    
    .viz-container {
      flex: 1;
      position: relative;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    #canvas {
      cursor: pointer;
    }
    
    .side-panel {
      width: 400px;
      background: white;
      border-left: 2px solid #e5e5e5;
      padding: 30px;
      overflow-y: auto;
    }
    
    .profile-card {
      margin-bottom: 30px;
    }
    
    .profile-card h2 {
      color: #333;
      font-size: 20px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .profile-letter {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 32px;
      width: auto;
      padding: 0 6px;
      height: 32px;
      border-radius: 50%;
      font-weight: bold;
      font-size: 14px;
      color: white;
    }
    
    .profile-text {
      color: #555;
      line-height: 1.6;
      padding: 15px;
      background: #f9f9f9;
      border-radius: 8px;
      border-left: 4px solid #4ade80;
    }
    
    .hover-profile {
      margin-top: 20px;
      padding-top: 20px;
      border-top: 2px solid #e5e5e5;
    }
    
    .hover-profile h3 {
      color: #666;
      font-size: 16px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .hover-profile .profile-text {
      border-left-color: #86efac;
    }
    
    .similarity-badge {
      display: inline-block;
      background: #4ade80;
      color: white;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .instructions {
      background: #fffbeb;
      border: 2px solid #fbbf24;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
      font-size: 14px;
      color: #92400e;
    }
    
    .instructions strong {
      color: #78350f;
    }
    
    .profile-point {
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .profile-point:hover circle {
      stroke-width: 4 !important;
    }
    
    .connection-line {
      transition: opacity 0.3s ease;
    }
    
    .table-container {
      background: white;
      padding: 30px;
      margin: 20px 40px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .table-scroll-wrapper {
      overflow-x: auto;
      margin-top: 20px;
      border: 1px solid #e5e5e5;
      border-radius: 8px;
    }
    
    table {
      width: max-content;
      min-width: 100%;
      border-collapse: collapse;
    }
    
    th, td {
      padding: 10px;
      text-align: center;
      border: 1px solid #ddd;
    }
    
    th {
      background: #4ade80;
      color: white;
      font-weight: 600;
    }
    
    /* Sticky first column so row headers stay visible when scrolling horizontally */
    th:first-child,
    td:first-child {
      position: sticky;
      left: 0;
      z-index: 2;
      background: white;
      border-right: 2px solid #999;
      min-width: 120px;
    }
    th:first-child {
      background: #4ade80;
      color: white;
    }
    
    .legend {
      display: flex;
      gap: 15px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
    }
    
    .legend-color {
      width: 30px;
      height: 20px;
      border-radius: 4px;
      border: 1px solid #999;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>üîç Interactive Profile Similarity Explorer</h1>
    <p class="subtitle">Click any profile to explore its relationships ‚Ä¢ Hover to see details</p>
  </div>
  
  <div class="main-container">
    <div class="viz-container">
      <svg id="canvas" width="800" height="700"></svg>
    </div>
    
    <div class="side-panel">
      <div class="instructions">
        <strong>How to use:</strong><br>
        ‚Ä¢ Click any profile (two-letter label) to center it<br>
        ‚Ä¢ Other profiles arrange by similarity<br>
        ‚Ä¢ Click the same profile again to reset to alphabetical view<br>
        ‚Ä¢ Hover over any profile to see its details
      </div>
      
      <div id="selected-profile">
        <div style="text-align: center; color: #666; padding: 40px 20px;">
          <h3 style="margin-bottom: 15px;">üëÜ Click any profile</h3>
          <p>Click to explore similarities</p>
          <p style="margin-top: 15px; font-size: 14px; color: #999;">Hover to preview</p>
        </div>
      </div>
    </div>
  </div>
  
  <div class="table-container">
    <h2>Pairwise Cosine Similarity Matrix</h2>
    <div class="legend">
      <div class="legend-item">
        <div class="legend-color" style="background: #16a34a"></div>
        <span>Very High (>0.9)</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #4ade80"></div>
        <span>High (>0.8)</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #86efac"></div>
        <span>Med-High (>0.7)</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #bbf7d0"></div>
        <span>Medium (>0.6)</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #fde047"></div>
        <span>Med-Low (>0.5)</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #fb923c"></div>
        <span>Low (>0.4)</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #f97316"></div>
        <span>Very Low (>0.3)</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #f87171"></div>
        <span>Minimal (‚â§0.3)</span>
      </div>
    </div>
    <div class="table-scroll-wrapper">
      <table>
        <tr><th></th><th>A Alice</th><th>A Bob</th><th>A Carol</th><th>A Dave</th><th>A Eve</th><th>A Frank</th><th>A Grace</th><th>A Henry</th><th>A Iris</th><th>A Jack</th><th>A Kate</th><th>A Liam</th><th>A Maya</th><th>A Noah</th><th>A Olivia</th><th>A Paul</th><th>A Quinn</th><th>A Rachel</th><th>A Sam</th><th>A Tara</th><th>A Uma</th><th>A Victor</th><th>A Wendy</th><th>A Xavier</th><th>A Yara</th><th>A Zack</th><th>Bold Alice</th><th>Bold Bob</th></tr>
        <tr><th>A Alice</th><td></td><td style="background: #86efac">0.793</td><td style="background: #f97316">0.395</td><td style="background: #fb923c">0.458</td><td style="background: #fb923c">0.484</td><td style="background: #f97316">0.337</td><td style="background: #fb923c">0.428</td><td style="background: #f87171">0.257</td><td style="background: #fb923c">0.464</td><td style="background: #f87171">0.280</td><td style="background: #f97316">0.363</td><td style="background: #f97316">0.386</td><td style="background: #f97316">0.345</td><td style="background: #f87171">0.296</td><td style="background: #f87171">0.283</td><td style="background: #f97316">0.333</td><td style="background: #f87171">0.205</td><td style="background: #f87171">0.285</td><td style="background: #f87171">0.282</td><td style="background: #f97316">0.308</td><td style="background: #fb923c">0.474</td><td style="background: #f97316">0.327</td><td style="background: #f87171">0.299</td><td style="background: #f87171">0.206</td><td style="background: #f87171">0.253</td><td style="background: #f97316">0.322</td><td style="background: #f87171">0.200</td><td style="background: #f87171">0.200</td></tr>
<tr><th>A Bob</th><td></td><td></td><td style="background: #f97316">0.335</td><td style="background: #fb923c">0.456</td><td style="background: #fb923c">0.435</td><td style="background: #f97316">0.348</td><td style="background: #fb923c">0.436</td><td style="background: #f97316">0.306</td><td style="background: #fb923c">0.440</td><td style="background: #f87171">0.275</td><td style="background: #f97316">0.321</td><td style="background: #f97316">0.355</td><td style="background: #f97316">0.352</td><td style="background: #f87171">0.274</td><td style="background: #f97316">0.301</td><td style="background: #f97316">0.300</td><td style="background: #f87171">0.200</td><td style="background: #f87171">0.273</td><td style="background: #f87171">0.249</td><td style="background: #f87171">0.291</td><td style="background: #fb923c">0.486</td><td style="background: #f97316">0.345</td><td style="background: #f97316">0.340</td><td style="background: #f87171">0.259</td><td style="background: #f87171">0.248</td><td style="background: #f97316">0.300</td><td style="background: #f87171">0.253</td><td style="background: #f87171">0.253</td></tr>
<tr><th>A Carol</th><td></td><td></td><td></td><td style="background: #f97316">0.374</td><td style="background: #f97316">0.326</td><td style="background: #fb923c">0.427</td><td style="background: #f87171">0.275</td><td style="background: #f87171">0.182</td><td style="background: #f97316">0.376</td><td style="background: #f87171">0.270</td><td style="background: #f87171">0.200</td><td style="background: #f87171">0.258</td><td style="background: #fb923c">0.418</td><td style="background: #fde047">0.514</td><td style="background: #f97316">0.397</td><td style="background: #f87171">0.202</td><td style="background: #f87171">0.197</td><td style="background: #f87171">0.101</td><td style="background: #f87171">0.273</td><td style="background: #f87171">0.168</td><td style="background: #f87171">0.268</td><td style="background: #f87171">0.102</td><td style="background: #f97316">0.345</td><td style="background: #f87171">0.166</td><td style="background: #f87171">0.221</td><td style="background: #f97316">0.387</td><td style="background: #f87171">0.180</td><td style="background: #f87171">0.180</td></tr>
<tr><th>A Dave</th><td></td><td></td><td></td><td></td><td style="background: #fde047">0.566</td><td style="background: #fde047">0.561</td><td style="background: #fb923c">0.435</td><td style="background: #f87171">0.271</td><td style="background: #fb923c">0.479</td><td style="background: #f87171">0.234</td><td style="background: #f87171">0.256</td><td style="background: #f97316">0.373</td><td style="background: #f97316">0.353</td><td style="background: #f97316">0.301</td><td style="background: #f97316">0.317</td><td style="background: #f97316">0.329</td><td style="background: #f87171">0.197</td><td style="background: #f87171">0.282</td><td style="background: #f87171">0.291</td><td style="background: #f87171">0.235</td><td style="background: #f97316">0.346</td><td style="background: #f87171">0.228</td><td style="background: #f87171">0.283</td><td style="background: #f87171">0.237</td><td style="background: #f87171">0.267</td><td style="background: #f97316">0.354</td><td style="background: #f87171">0.219</td><td style="background: #f87171">0.219</td></tr>
<tr><th>A Eve</th><td></td><td></td><td></td><td></td><td></td><td style="background: #fb923c">0.408</td><td style="background: #f97316">0.384</td><td style="background: #f87171">0.292</td><td style="background: #f97316">0.394</td><td style="background: #f87171">0.266</td><td style="background: #f87171">0.242</td><td style="background: #f97316">0.301</td><td style="background: #f97316">0.394</td><td style="background: #f87171">0.300</td><td style="background: #f97316">0.330</td><td style="background: #f87171">0.262</td><td style="background: #f87171">0.128</td><td style="background: #f87171">0.276</td><td style="background: #f87171">0.280</td><td style="background: #f87171">0.279</td><td style="background: #f97316">0.376</td><td style="background: #f87171">0.288</td><td style="background: #f87171">0.257</td><td style="background: #f87171">0.175</td><td style="background: #f87171">0.191</td><td style="background: #f87171">0.261</td><td style="background: #f87171">0.142</td><td style="background: #f87171">0.142</td></tr>
<tr><th>A Frank</th><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f97316">0.305</td><td style="background: #f87171">0.271</td><td style="background: #f97316">0.390</td><td style="background: #f87171">0.210</td><td style="background: #f97316">0.341</td><td style="background: #f87171">0.297</td><td style="background: #f97316">0.333</td><td style="background: #f97316">0.322</td><td style="background: #f87171">0.297</td><td style="background: #f87171">0.151</td><td style="background: #f87171">0.226</td><td style="background: #f87171">0.170</td><td style="background: #f87171">0.223</td><td style="background: #f87171">0.189</td><td style="background: #f87171">0.233</td><td style="background: #f87171">0.181</td><td style="background: #f87171">0.213</td><td style="background: #f87171">0.250</td><td style="background: #f87171">0.178</td><td style="background: #f87171">0.246</td><td style="background: #f87171">0.191</td><td style="background: #f87171">0.191</td></tr>
<tr><th>A Grace</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f97316">0.388</td><td style="background: #bbf7d0">0.603</td><td style="background: #f87171">0.260</td><td style="background: #f97316">0.360</td><td style="background: #fb923c">0.414</td><td style="background: #f87171">0.247</td><td style="background: #f87171">0.260</td><td style="background: #f87171">0.231</td><td style="background: #f97316">0.347</td><td style="background: #f87171">0.194</td><td style="background: #f87171">0.291</td><td style="background: #f97316">0.332</td><td style="background: #f97316">0.351</td><td style="background: #fb923c">0.452</td><td style="background: #f87171">0.260</td><td style="background: #f97316">0.360</td><td style="background: #f87171">0.250</td><td style="background: #f97316">0.353</td><td style="background: #f97316">0.341</td><td style="background: #f87171">0.224</td><td style="background: #f87171">0.224</td></tr>
<tr><th>A Henry</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #fde047">0.501</td><td style="background: #f87171">0.121</td><td style="background: #f87171">0.188</td><td style="background: #f87171">0.163</td><td style="background: #f87171">0.150</td><td style="background: #f87171">0.120</td><td style="background: #f87171">0.147</td><td style="background: #f87171">0.209</td><td style="background: #f87171">0.151</td><td style="background: #f87171">0.173</td><td style="background: #f87171">0.068</td><td style="background: #f87171">0.118</td><td style="background: #f87171">0.174</td><td style="background: #f87171">0.216</td><td style="background: #f87171">0.100</td><td style="background: #f87171">0.283</td><td style="background: #f87171">0.178</td><td style="background: #f87171">0.156</td><td style="background: #f87171">0.231</td><td style="background: #f87171">0.231</td></tr>
<tr><th>A Iris</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f87171">0.252</td><td style="background: #f87171">0.255</td><td style="background: #f97316">0.400</td><td style="background: #f97316">0.398</td><td style="background: #f97316">0.306</td><td style="background: #f97316">0.308</td><td style="background: #f97316">0.355</td><td style="background: #f87171">0.204</td><td style="background: #f87171">0.158</td><td style="background: #f87171">0.217</td><td style="background: #f87171">0.182</td><td style="background: #f97316">0.379</td><td style="background: #f87171">0.154</td><td style="background: #f97316">0.302</td><td style="background: #f87171">0.294</td><td style="background: #f97316">0.345</td><td style="background: #fb923c">0.424</td><td style="background: #f87171">0.243</td><td style="background: #f87171">0.243</td></tr>
<tr><th>A Jack</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f87171">0.224</td><td style="background: #fb923c">0.411</td><td style="background: #f97316">0.300</td><td style="background: #f97316">0.347</td><td style="background: #f87171">0.232</td><td style="background: #f97316">0.358</td><td style="background: #fb923c">0.429</td><td style="background: #f87171">0.171</td><td style="background: #f97316">0.329</td><td style="background: #f87171">0.276</td><td style="background: #f87171">0.274</td><td style="background: #f87171">0.131</td><td style="background: #f87171">0.242</td><td style="background: #f87171">0.145</td><td style="background: #f97316">0.336</td><td style="background: #f87171">0.251</td><td style="background: #f87171">0.122</td><td style="background: #f87171">0.122</td></tr>
<tr><th>A Kate</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f97316">0.393</td><td style="background: #f87171">0.153</td><td style="background: #f87171">0.179</td><td style="background: #f87171">0.082</td><td style="background: #f87171">0.124</td><td style="background: #f97316">0.316</td><td style="background: #f97316">0.310</td><td style="background: #f87171">0.236</td><td style="background: #f87171">0.254</td><td style="background: #f87171">0.230</td><td style="background: #f87171">0.270</td><td style="background: #f87171">0.143</td><td style="background: #f87171">0.156</td><td style="background: #f87171">0.111</td><td style="background: #f87171">0.140</td><td style="background: #f87171">0.186</td><td style="background: #f87171">0.186</td></tr>
<tr><th>A Liam</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f87171">0.231</td><td style="background: #f87171">0.268</td><td style="background: #f87171">0.220</td><td style="background: #fb923c">0.423</td><td style="background: #fb923c">0.490</td><td style="background: #f87171">0.216</td><td style="background: #f87171">0.294</td><td style="background: #f97316">0.313</td><td style="background: #f97316">0.389</td><td style="background: #f87171">0.182</td><td style="background: #f87171">0.278</td><td style="background: #f87171">0.201</td><td style="background: #f87171">0.297</td><td style="background: #f97316">0.394</td><td style="background: #f87171">0.157</td><td style="background: #f87171">0.157</td></tr>
<tr><th>A Maya</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f97316">0.356</td><td style="background: #fb923c">0.427</td><td style="background: #f87171">0.285</td><td style="background: #f87171">0.166</td><td style="background: #f87171">0.074</td><td style="background: #f87171">0.243</td><td style="background: #f87171">0.149</td><td style="background: #f97316">0.314</td><td style="background: #f87171">0.109</td><td style="background: #f97316">0.308</td><td style="background: #f87171">0.117</td><td style="background: #f87171">0.253</td><td style="background: #f97316">0.354</td><td style="background: #f87171">0.126</td><td style="background: #f87171">0.126</td></tr>
<tr><th>A Noah</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f97316">0.307</td><td style="background: #f87171">0.231</td><td style="background: #f87171">0.240</td><td style="background: #f87171">0.190</td><td style="background: #f97316">0.319</td><td style="background: #f87171">0.218</td><td style="background: #f87171">0.258</td><td style="background: #f87171">0.162</td><td style="background: #f97316">0.357</td><td style="background: #f87171">0.177</td><td style="background: #f87171">0.292</td><td style="background: #f97316">0.323</td><td style="background: #f87171">0.206</td><td style="background: #f87171">0.206</td></tr>
<tr><th>A Olivia</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f87171">0.212</td><td style="background: #f87171">0.101</td><td style="background: #f87171">0.146</td><td style="background: #f87171">0.198</td><td style="background: #f87171">0.172</td><td style="background: #f87171">0.280</td><td style="background: #f87171">0.149</td><td style="background: #f87171">0.273</td><td style="background: #f87171">0.144</td><td style="background: #f87171">0.260</td><td style="background: #f97316">0.309</td><td style="background: #f87171">0.173</td><td style="background: #f87171">0.173</td></tr>
<tr><th>A Paul</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #fb923c">0.492</td><td style="background: #f87171">0.272</td><td style="background: #f87171">0.263</td><td style="background: #f97316">0.354</td><td style="background: #f97316">0.353</td><td style="background: #f87171">0.179</td><td style="background: #f87171">0.183</td><td style="background: #f87171">0.154</td><td style="background: #fb923c">0.407</td><td style="background: #f97316">0.352</td><td style="background: #f87171">0.207</td><td style="background: #f87171">0.207</td></tr>
<tr><th>A Quinn</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f87171">0.262</td><td style="background: #f87171">0.198</td><td style="background: #f87171">0.247</td><td style="background: #f87171">0.219</td><td style="background: #f87171">0.228</td><td style="background: #f87171">0.109</td><td style="background: #f87171">0.168</td><td style="background: #f87171">0.206</td><td style="background: #f87171">0.257</td><td style="background: #f87171">0.246</td><td style="background: #f87171">0.246</td></tr>
<tr><th>A Rachel</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #fb923c">0.406</td><td style="background: #fde047">0.594</td><td style="background: #f87171">0.289</td><td style="background: #fb923c">0.418</td><td style="background: #f87171">0.291</td><td style="background: #f97316">0.348</td><td style="background: #f87171">0.165</td><td style="background: #f87171">0.158</td><td style="background: #f87171">0.193</td><td style="background: #f87171">0.193</td></tr>
<tr><th>A Sam</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #fb923c">0.448</td><td style="background: #f97316">0.342</td><td style="background: #f87171">0.215</td><td style="background: #fb923c">0.406</td><td style="background: #f87171">0.227</td><td style="background: #f87171">0.284</td><td style="background: #f87171">0.258</td><td style="background: #f87171">0.180</td><td style="background: #f87171">0.180</td></tr>
<tr><th>A Tara</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f97316">0.312</td><td style="background: #f97316">0.316</td><td style="background: #f97316">0.373</td><td style="background: #f97316">0.313</td><td style="background: #f87171">0.263</td><td style="background: #f87171">0.236</td><td style="background: #f87171">0.151</td><td style="background: #f87171">0.151</td></tr>
<tr><th>A Uma</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #fb923c">0.465</td><td style="background: #f97316">0.364</td><td style="background: #f87171">0.226</td><td style="background: #f87171">0.291</td><td style="background: #f97316">0.374</td><td style="background: #f87171">0.172</td><td style="background: #f87171">0.172</td></tr>
<tr><th>A Victor</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f87171">0.169</td><td style="background: #f87171">0.213</td><td style="background: #f87171">0.099</td><td style="background: #f87171">0.151</td><td style="background: #f87171">0.201</td><td style="background: #f87171">0.201</td></tr>
<tr><th>A Wendy</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #fb923c">0.431</td><td style="background: #f87171">0.287</td><td style="background: #f97316">0.365</td><td style="background: #f87171">0.151</td><td style="background: #f87171">0.151</td></tr>
<tr><th>A Xavier</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f87171">0.188</td><td style="background: #f87171">0.242</td><td style="background: #f97316">0.313</td><td style="background: #f97316">0.313</td></tr>
<tr><th>A Yara</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #fb923c">0.430</td><td style="background: #f87171">0.189</td><td style="background: #f87171">0.189</td></tr>
<tr><th>A Zack</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #f87171">0.199</td><td style="background: #f87171">0.199</td></tr>
<tr><th>Bold Alice</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td style="background: #16a34a">1.000</td></tr>
<tr><th>Bold Bob</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
      </table>
    </div>
  </div>
  
  <script>
    // Data from Node.js
    const profiles = [{"name":"A Alice","abbrev":"AA","profileText":"Passionate about sustainable agriculture, permaculture design, and regenerative farming practices","index":0,"color":"hsl(0, 70%, 60%)"},{"name":"A Bob","abbrev":"AB","profileText":"Interested in organic farming, permaculture, and sustainable food systems","index":1,"color":"hsl(12.857142857142858, 70%, 60%)"},{"name":"A Carol","abbrev":"AC","profileText":"Software developer passionate about open source, decentralization, and blockchain","index":2,"color":"hsl(25.714285714285715, 70%, 60%)"},{"name":"A Dave","abbrev":"AD","profileText":"Community organizer focused on local resilience, mutual aid, and grassroots movements","index":3,"color":"hsl(38.57142857142857, 70%, 60%)"},{"name":"A Eve","abbrev":"AE","profileText":"Environmental activist working on climate justice and ecosystem restoration","index":4,"color":"hsl(51.42857142857143, 70%, 60%)"},{"name":"A Frank","abbrev":"AF","profileText":"Building community tech platforms and digital tools for grassroots organizing","index":5,"color":"hsl(64.28571428571429, 70%, 60%)"},{"name":"A Grace","abbrev":"AG","profileText":"Homeschooling mom using Montessori and unschooling methods. Love nature-based learning, hands-on projects, and building community with other homeschool families. Always looking for co-op opportunities and field trip ideas.","index":6,"color":"hsl(77.14285714285714, 70%, 60%)"},{"name":"A Henry","abbrev":"AH","profileText":"Education reform and alternative schools","index":7,"color":"hsl(90, 70%, 60%)"},{"name":"A Iris","abbrev":"AI","profileText":"Former public school teacher now developing project-based curriculum for small learning communities. Interested in democratic education, Reggio Emilia approach, and helping kids develop critical thinking skills.","index":8,"color":"hsl(102.85714285714286, 70%, 60%)"},{"name":"A Jack","abbrev":"AJ","profileText":"Heavy equipment operator and mechanic. Love working on excavators, dozers, backhoes. Also into welding and metal fabrication.","index":9,"color":"hsl(115.71428571428571, 70%, 60%)"},{"name":"A Kate","abbrev":"AK","profileText":"Natural building techniques","index":10,"color":"hsl(128.57142857142858, 70%, 60%)"},{"name":"A Liam","abbrev":"AL","profileText":"Finish carpenter specializing in timber framing and traditional joinery. I build custom furniture using hand tools and teach workshops on woodworking skills. Looking to connect with other craftspeople who appreciate the old ways of building things that last.","index":11,"color":"hsl(141.42857142857142, 70%, 60%)"},{"name":"A Maya","abbrev":"AM","profileText":"Machine learning engineer working on natural language processing and ethical AI. Fascinated by large language models, alignment problems, and how we can build AI systems that actually benefit humanity rather than just optimize for engagement metrics.","index":12,"color":"hsl(154.28571428571428, 70%, 60%)"},{"name":"A Noah","abbrev":"AN","profileText":"Full-stack dev. React, Node, Python.","index":13,"color":"hsl(167.14285714285714, 70%, 60%)"},{"name":"A Olivia","abbrev":"AO","profileText":"Data scientist and visualization specialist interested in making complex information accessible to everyone","index":14,"color":"hsl(180, 70%, 60%)"},{"name":"A Paul","abbrev":"AP","profileText":"Competitive shooter and firearms instructor teaching safety and marksmanship. Focus on responsible gun ownership, hunting ethics, and Second Amendment rights. Also enjoy reloading ammunition and long-range precision shooting.","index":15,"color":"hsl(192.85714285714286, 70%, 60%)"},{"name":"A Quinn","abbrev":"AQ","profileText":"Gunsmithing and custom builds","index":16,"color":"hsl(205.71428571428572, 70%, 60%)"},{"name":"A Rachel","abbrev":"AR","profileText":"Backpacking and wilderness survival","index":17,"color":"hsl(218.57142857142858, 70%, 60%)"},{"name":"A Sam","abbrev":"AS","profileText":"Rock climbing, mountaineering, and alpine adventures. Love pushing my limits on technical routes and multi-day expeditions. Always planning the next big objective in the mountains and looking for climbing partners who are passionate about the vertical world.","index":18,"color":"hsl(231.42857142857142, 70%, 60%)"},{"name":"A Tara","abbrev":"AT","profileText":"Fly fishing, hunting, wilderness camping. Spend as much time as possible in the backcountry away from screens and crowds.","index":19,"color":"hsl(244.28571428571428, 70%, 60%)"},{"name":"A Uma","abbrev":"AU","profileText":"Mushroom cultivation and mycology enthusiast. Growing gourmet and medicinal mushrooms at home, experimenting with different substrates and species. Fascinated by the fungal kingdom and its role in ecosystem health. Also into foraging wild mushrooms and teaching others about identification.","index":20,"color":"hsl(257.14285714285717, 70%, 60%)"},{"name":"A Victor","abbrev":"AV","profileText":"Wild edibles and medicinal plants","index":21,"color":"hsl(270, 70%, 60%)"},{"name":"A Wendy","abbrev":"AW","profileText":"Digital nomad living in different countries every few months. Love immersing myself in local cultures, learning languages, and finding the best street food. Currently exploring Southeast Asia and always looking for off-the-beaten-path recommendations and travel buddies for the next adventure.","index":22,"color":"hsl(282.85714285714283, 70%, 60%)"},{"name":"A Xavier","abbrev":"AX","profileText":"Budget travel and cultural exchange","index":23,"color":"hsl(295.7142857142857, 70%, 60%)"},{"name":"A Yara","abbrev":"AY","profileText":"Basketball coach and player. Love pickup games, teaching kids, and watching college hoops.","index":24,"color":"hsl(308.57142857142856, 70%, 60%)"},{"name":"A Zack","abbrev":"AZ","profileText":"Board game designer and enthusiast with a collection of over 300 games. Host weekly game nights featuring everything from heavy euros to social deduction games. Also run a podcast reviewing new releases and interviewing designers. Looking to playtest prototypes and connect with other gamers in the area.","index":25,"color":"hsl(321.42857142857144, 70%, 60%)"},{"name":"Bold Alice","abbrev":"BA","profileText":"","index":26,"color":"hsl(334.2857142857143, 70%, 60%)"},{"name":"Bold Bob","abbrev":"BB","profileText":"","index":27,"color":"hsl(347.14285714285717, 70%, 60%)"}];
    const similarities = [[1,0.7932259962909337,0.3945461230259944,0.4584317620301172,0.48410832557248695,0.337350334933815,0.42821328588623764,0.25664561208879055,0.4638012178301658,0.2803415658494695,0.363349860475494,0.385827220470714,0.344958174575541,0.29600606024490866,0.28272824320343004,0.3329892802961951,0.2053760316931391,0.28530310272743736,0.2818097868422868,0.3078669962761676,0.47387480477472094,0.32673244534627177,0.2992079860386339,0.20592288885829244,0.2529996645683947,0.32153782722869606,0.19955277606860577,0.19955277606860577],[0.7932259962909337,1,0.335329241089321,0.45590476569940247,0.43497531253133165,0.34805134707094143,0.4362823659525274,0.3059615935799001,0.4403940067605347,0.27464535176004384,0.3207897749726577,0.3550473038116263,0.35232500375016707,0.2737456230880125,0.30104818211896606,0.3002572120353997,0.1997555677824717,0.2729639646368881,0.24897088478890947,0.29120848267962673,0.4857457063760427,0.3452491507971875,0.3402727247604695,0.2592498343175879,0.2477975812248404,0.30007348042959564,0.25274507792674195,0.25274507792674195],[0.3945461230259944,0.335329241089321,1,0.37429764664606247,0.32597689569455734,0.4265648138049208,0.2749987167381669,0.1815699807961128,0.37591731568744996,0.26979009238639645,0.19974011449596293,0.2576278529550823,0.41802229893162407,0.5141135417105771,0.3966298078843439,0.20231826633994324,0.196542933177225,0.1010858054025995,0.2726225814136829,0.16792296223235384,0.26805364305039336,0.10158669478168315,0.344865380950935,0.16626174776718577,0.22127478602528017,0.3868965601664552,0.17975296046319886,0.17975296046319886],[0.4584317620301172,0.45590476569940247,0.37429764664606247,1,0.565608458716586,0.5612749662253026,0.4348883441990463,0.27110529104215186,0.47896384306895484,0.23388366647065076,0.25616454967865765,0.3728383867475455,0.3525627849656565,0.30085830655506307,0.3173610562031247,0.3290786861112968,0.19725084811451987,0.28206552337050594,0.2909605619506195,0.2352392655841989,0.34576298385115567,0.2281702976746439,0.28254076553757557,0.23671400347122598,0.26723323033243956,0.35417516671988974,0.21879400629758913,0.21879400629758913],[0.48410832557248695,0.43497531253133165,0.32597689569455734,0.565608458716586,1,0.4080851732357753,0.3838708744426945,0.29187857101138653,0.394032852706866,0.2659137401678437,0.2415770633988101,0.300510937193664,0.3941520449535404,0.2996338648603171,0.33008835228702693,0.26152004798272876,0.1283244228503379,0.2755560412966878,0.2798798558356154,0.27883318418911646,0.3760001376055677,0.2880180278043699,0.2569582943478179,0.1750945235741146,0.1910200973134374,0.26102490820904267,0.14219810732718963,0.14219810732718963],[0.337350334933815,0.34805134707094143,0.4265648138049208,0.5612749662253026,0.4080851732357753,1,0.30533821767447133,0.271323556206099,0.3901833981274124,0.20957573548261174,0.34056192821299847,0.29671340463527496,0.33339664201115154,0.3222300163824941,0.29650385147418784,0.1511611228395752,0.22611358034854567,0.17047121732470377,0.2231678331854501,0.1894662139009915,0.23295402265221896,0.1814497489238841,0.21338444091757247,0.24977317019507483,0.17784315899790976,0.24619346718938567,0.1912239701438683,0.1912239701438683],[0.42821328588623764,0.4362823659525274,0.2749987167381669,0.4348883441990463,0.3838708744426945,0.30533821767447133,1,0.3883372176657945,0.6026161392500472,0.2597316064589124,0.35983786621973113,0.4140347608415698,0.24697340989040303,0.2603678078158425,0.2313988349237492,0.34668493426208996,0.19436569190957795,0.2912797504831748,0.33154887466140476,0.35112970822552764,0.45184227838821356,0.25997972090438304,0.36009876877957764,0.24989167947796334,0.35344395892466957,0.34104171518403215,0.22420788340065534,0.22420788340065534],[0.25664561208879055,0.3059615935799001,0.1815699807961128,0.27110529104215186,0.29187857101138653,0.271323556206099,0.3883372176657945,1,0.5013174325646811,0.1207931829581114,0.18821698999429826,0.16310956947257452,0.15036954296633567,0.12031739081611871,0.1473749945867166,0.2085942538549647,0.15118868419767528,0.17278748150775816,0.06833466078904181,0.11766413666295218,0.17388572244140332,0.2162078484530596,0.09999124235896047,0.2834776308500449,0.17823873903096618,0.15603981380466594,0.23144749370553389,0.23144749370553389],[0.4638012178301658,0.4403940067605347,0.37591731568744996,0.47896384306895484,0.394032852706866,0.3901833981274124,0.6026161392500472,0.5013174325646811,1,0.25199942757426336,0.25460028878975627,0.3997458558202255,0.3983328260791047,0.3058371448324927,0.30834216893142835,0.3546120838465886,0.20428000216969036,0.158385612458014,0.2169821915150735,0.18198134618562312,0.3787680132248126,0.15368622550588512,0.30179068034067474,0.294364290062393,0.3451094257016196,0.4241464642953882,0.24280066207239,0.24280066207239],[0.2803415658494695,0.27464535176004384,0.26979009238639645,0.23388366647065076,0.2659137401678437,0.20957573548261174,0.2597316064589124,0.1207931829581114,0.25199942757426336,1,0.22445499507843483,0.4106834894087526,0.300272780290182,0.3473299031774631,0.23217786436670568,0.3579591680549156,0.42923685828691194,0.17137251147379268,0.32928394887611995,0.27597069852144124,0.2743112478606863,0.13067557831988194,0.24220895166425316,0.14530027943837742,0.3361939620345533,0.2512433220504451,0.12152455715847608,0.12152455715847608],[0.363349860475494,0.3207897749726577,0.19974011449596293,0.25616454967865765,0.2415770633988101,0.34056192821299847,0.35983786621973113,0.18821698999429826,0.25460028878975627,0.22445499507843483,1,0.392659533345789,0.15332767052870522,0.17908321092345889,0.08173766378696894,0.12379439719597118,0.31631321269956525,0.3101959232179181,0.2357215358577248,0.2536102073920949,0.22973252306033876,0.2700005082265519,0.1428244923272779,0.15624768581769913,0.11130180360344427,0.1397576075695364,0.1859713211376046,0.1859713211376046],[0.385827220470714,0.3550473038116263,0.2576278529550823,0.3728383867475455,0.300510937193664,0.29671340463527496,0.4140347608415698,0.16310956947257452,0.3997458558202255,0.4106834894087526,0.392659533345789,1,0.23090599310193452,0.2675565477857862,0.22006321427578093,0.4230591155814528,0.48978664388251075,0.2160606789801402,0.293880682647843,0.3126594542344844,0.38938465126664545,0.1820828685849153,0.2781012164184379,0.20109798363122652,0.29748049326757403,0.39427563345273997,0.15718076801133843,0.15718076801133843],[0.344958174575541,0.35232500375016707,0.41802229893162407,0.3525627849656565,0.3941520449535404,0.33339664201115154,0.24697340989040303,0.15036954296633567,0.3983328260791047,0.300272780290182,0.15332767052870522,0.23090599310193452,1,0.3559382344719322,0.42747702924910796,0.28510418190512904,0.1660218051393535,0.07433540883759607,0.2430226745396226,0.149290037011247,0.31379739871397644,0.10926600168011122,0.3082621358935515,0.11718395224231716,0.2529276581013084,0.3536411368189011,0.12595436701279053,0.12595436701279053],[0.29600606024490866,0.2737456230880125,0.5141135417105771,0.30085830655506307,0.2996338648603171,0.3222300163824941,0.2603678078158425,0.12031739081611871,0.3058371448324927,0.3473299031774631,0.17908321092345889,0.2675565477857862,0.3559382344719322,1,0.3073471799409158,0.23130264027051944,0.23975824756668274,0.19030924536471658,0.31945037710086877,0.21816882596495643,0.25787823945488514,0.16162327940057103,0.357005651093949,0.17675185700781804,0.2923024446972172,0.3226654022197401,0.2058750124384909,0.2058750124384909],[0.28272824320343004,0.30104818211896606,0.3966298078843439,0.3173610562031247,0.33008835228702693,0.29650385147418784,0.2313988349237492,0.1473749945867166,0.30834216893142835,0.23217786436670568,0.08173766378696894,0.22006321427578093,0.42747702924910796,0.3073471799409158,1,0.21196516179479402,0.10073578662430371,0.14592942314971094,0.19772381122797242,0.17169166994216736,0.280145390870348,0.14896179763969983,0.27282627341054033,0.14372427566392446,0.2604804532664203,0.3087487421638856,0.1729352364531817,0.1729352364531817],[0.3329892802961951,0.3002572120353997,0.20231826633994324,0.3290786861112968,0.26152004798272876,0.1511611228395752,0.34668493426208996,0.2085942538549647,0.3546120838465886,0.3579591680549156,0.12379439719597118,0.4230591155814528,0.28510418190512904,0.23130264027051944,0.21196516179479402,1,0.4923724602600813,0.2723878942984137,0.2633110918551098,0.35354201698387394,0.35289587086281116,0.1788231888548801,0.183195408779589,0.15386136548316878,0.4074632314629309,0.3520769682870582,0.20747573174902934,0.20747573174902934],[0.2053760316931391,0.1997555677824717,0.196542933177225,0.19725084811451987,0.1283244228503379,0.22611358034854567,0.19436569190957795,0.15118868419767528,0.20428000216969036,0.42923685828691194,0.31631321269956525,0.48978664388251075,0.1660218051393535,0.23975824756668274,0.10073578662430371,0.4923724602600813,1,0.2621541248832056,0.19845036891306747,0.24660801819175113,0.219489727409735,0.2282006022554842,0.10925207595191697,0.16831065905751455,0.20553795110822953,0.25674304827128813,0.24587496108281875,0.24587496108281875],[0.28530310272743736,0.2729639646368881,0.1010858054025995,0.28206552337050594,0.2755560412966878,0.17047121732470377,0.2912797504831748,0.17278748150775816,0.158385612458014,0.17137251147379268,0.3101959232179181,0.2160606789801402,0.07433540883759607,0.19030924536471658,0.14592942314971094,0.2723878942984137,0.2621541248832056,1,0.4055222848382321,0.5941911033743554,0.28935399763831143,0.417673115328369,0.2910137179403938,0.3477503054849061,0.16493878915796295,0.15829376934089234,0.19328183713594418,0.19328183713594418],[0.2818097868422868,0.24897088478890947,0.2726225814136829,0.2909605619506195,0.2798798558356154,0.2231678331854501,0.33154887466140476,0.06833466078904181,0.2169821915150735,0.32928394887611995,0.2357215358577248,0.293880682647843,0.2430226745396226,0.31945037710086877,0.19772381122797242,0.2633110918551098,0.19845036891306747,0.4055222848382321,1,0.44768675977009226,0.34245875725969877,0.2148769598915951,0.40598427858465896,0.22713725888298558,0.2837819638877057,0.25836912143303875,0.17993154586930107,0.17993154586930107],[0.3078669962761676,0.29120848267962673,0.16792296223235384,0.2352392655841989,0.27883318418911646,0.1894662139009915,0.35112970822552764,0.11766413666295218,0.18198134618562312,0.27597069852144124,0.2536102073920949,0.3126594542344844,0.149290037011247,0.21816882596495643,0.17169166994216736,0.35354201698387394,0.24660801819175113,0.5941911033743554,0.44768675977009226,1,0.3120622876491594,0.3156810419300414,0.37339255678342914,0.3132180585152515,0.2626069490273955,0.23567253546139968,0.15064401750269374,0.15064401750269374],[0.47387480477472094,0.4857457063760427,0.26805364305039336,0.34576298385115567,0.3760001376055677,0.23295402265221896,0.45184227838821356,0.17388572244140332,0.3787680132248126,0.2743112478606863,0.22973252306033876,0.38938465126664545,0.31379739871397644,0.25787823945488514,0.280145390870348,0.35289587086281116,0.219489727409735,0.28935399763831143,0.34245875725969877,0.3120622876491594,1,0.4646281075317519,0.3638107035148581,0.22647171768012753,0.2914048072632649,0.3744291786761186,0.17219293858685386,0.17219293858685386],[0.32673244534627177,0.3452491507971875,0.10158669478168315,0.2281702976746439,0.2880180278043699,0.1814497489238841,0.25997972090438304,0.2162078484530596,0.15368622550588512,0.13067557831988194,0.2700005082265519,0.1820828685849153,0.10926600168011122,0.16162327940057103,0.14896179763969983,0.1788231888548801,0.2282006022554842,0.417673115328369,0.2148769598915951,0.3156810419300414,0.4646281075317519,1,0.16858220427568693,0.21250286803036075,0.09896992179523867,0.1506786186185662,0.2014370050236702,0.2014370050236702],[0.2992079860386339,0.3402727247604695,0.344865380950935,0.28254076553757557,0.2569582943478179,0.21338444091757247,0.36009876877957764,0.09999124235896047,0.30179068034067474,0.24220895166425316,0.1428244923272779,0.2781012164184379,0.3082621358935515,0.357005651093949,0.27282627341054033,0.183195408779589,0.10925207595191697,0.2910137179403938,0.40598427858465896,0.37339255678342914,0.3638107035148581,0.16858220427568693,1,0.43131946470219834,0.28714794159102336,0.3651438811381454,0.1512315788425105,0.1512315788425105],[0.20592288885829244,0.2592498343175879,0.16626174776718577,0.23671400347122598,0.1750945235741146,0.24977317019507483,0.24989167947796334,0.2834776308500449,0.294364290062393,0.14530027943837742,0.15624768581769913,0.20109798363122652,0.11718395224231716,0.17675185700781804,0.14372427566392446,0.15386136548316878,0.16831065905751455,0.3477503054849061,0.22713725888298558,0.3132180585152515,0.22647171768012753,0.21250286803036075,0.43131946470219834,1,0.18813662270195455,0.24248602414438114,0.31279197144650484,0.31279197144650484],[0.2529996645683947,0.2477975812248404,0.22127478602528017,0.26723323033243956,0.1910200973134374,0.17784315899790976,0.35344395892466957,0.17823873903096618,0.3451094257016196,0.3361939620345533,0.11130180360344427,0.29748049326757403,0.2529276581013084,0.2923024446972172,0.2604804532664203,0.4074632314629309,0.20553795110822953,0.16493878915796295,0.2837819638877057,0.2626069490273955,0.2914048072632649,0.09896992179523867,0.28714794159102336,0.18813662270195455,1,0.43036312371947055,0.18879662625415505,0.18879662625415505],[0.32153782722869606,0.30007348042959564,0.3868965601664552,0.35417516671988974,0.26102490820904267,0.24619346718938567,0.34104171518403215,0.15603981380466594,0.4241464642953882,0.2512433220504451,0.1397576075695364,0.39427563345273997,0.3536411368189011,0.3226654022197401,0.3087487421638856,0.3520769682870582,0.25674304827128813,0.15829376934089234,0.25836912143303875,0.23567253546139968,0.3744291786761186,0.1506786186185662,0.3651438811381454,0.24248602414438114,0.43036312371947055,1,0.19874767157141807,0.19874767157141807],[0.19955277606860577,0.25274507792674195,0.17975296046319886,0.21879400629758913,0.14219810732718963,0.1912239701438683,0.22420788340065534,0.23144749370553389,0.24280066207239,0.12152455715847608,0.1859713211376046,0.15718076801133843,0.12595436701279053,0.2058750124384909,0.1729352364531817,0.20747573174902934,0.24587496108281875,0.19328183713594418,0.17993154586930107,0.15064401750269374,0.17219293858685386,0.2014370050236702,0.1512315788425105,0.31279197144650484,0.18879662625415505,0.19874767157141807,1,1],[0.19955277606860577,0.25274507792674195,0.17975296046319886,0.21879400629758913,0.14219810732718963,0.1912239701438683,0.22420788340065534,0.23144749370553389,0.24280066207239,0.12152455715847608,0.1859713211376046,0.15718076801133843,0.12595436701279053,0.2058750124384909,0.1729352364531817,0.20747573174902934,0.24587496108281875,0.19328183713594418,0.17993154586930107,0.15064401750269374,0.17219293858685386,0.2014370050236702,0.1512315788425105,0.31279197144650484,0.18879662625415505,0.19874767157141807,1,1]];
    
    // State
    let currentCenter = 0;
    let hoveredProfile = null;
    let isAlphabeticalMode = true; // Start in alphabetical mode
    
    // Canvas setup
    const svg = document.getElementById('canvas');
    const centerX = 400;
    const centerY = 350;
    
    // Calculate alphabetical layout (all profiles in a circle)
    function calculateAlphabeticalLayout() {
      const positions = [];
      const radius = 220;
      const angleStep = (2 * Math.PI) / profiles.length;
      
      profiles.forEach((profile, i) => {
        const angle = i * angleStep - Math.PI / 2; // Start from top
        positions[i] = {
          x: centerX + Math.cos(angle) * radius,
          y: centerY + Math.sin(angle) * radius,
          similarity: null
        };
      });
      
      return positions;
    }
    
    // Calculate radial layout
    function calculateLayout(centerIndex) {
      const positions = [];
      const others = [];
      
      // Collect all other profiles with their similarities
      for (let i = 0; i < profiles.length; i++) {
        if (i !== centerIndex) {
          others.push({
            index: i,
            similarity: similarities[centerIndex][i]
          });
        }
      }
      
      // Sort by similarity for better distribution
      others.sort((a, b) => b.similarity - a.similarity);
      
      // Arrange in circle with distance based on similarity
      const angleStep = (2 * Math.PI) / others.length;
      const minRadius = 80;
      const maxRadius = 250;
      
      others.forEach((other, i) => {
        const angle = i * angleStep - Math.PI / 2; // Start from top
        const distance = maxRadius - (other.similarity * (maxRadius - minRadius));
        
        positions[other.index] = {
          x: centerX + Math.cos(angle) * distance,
          y: centerY + Math.sin(angle) * distance,
          similarity: other.similarity
        };
      });
      
      // Center profile at origin
      positions[centerIndex] = {
        x: centerX,
        y: centerY,
        similarity: 1.0
      };
      
      return positions;
    }
    
    // Render the visualization
    function render() {
      const positions = isAlphabeticalMode ? calculateAlphabeticalLayout() : calculateLayout(currentCenter);
      svg.innerHTML = '';
      
      // Draw connection lines first (so they're behind circles) - only in radial mode
      if (!isAlphabeticalMode) {
        for (let i = 0; i < profiles.length; i++) {
          if (i !== currentCenter) {
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', positions[currentCenter].x);
            line.setAttribute('y1', positions[currentCenter].y);
            line.setAttribute('x2', positions[i].x);
            line.setAttribute('y2', positions[i].y);
            line.setAttribute('stroke', '#e5e5e5');
            line.setAttribute('stroke-width', '1');
            line.setAttribute('class', 'connection-line');
            line.setAttribute('opacity', '0.5');
            svg.appendChild(line);
          }
        }
      }
      
      // Draw profile circles
      profiles.forEach((profile, i) => {
        const pos = positions[i];
        const isCentered = !isAlphabeticalMode && i === currentCenter;
        const size = isCentered ? 50 : 35;
        
        const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
        g.setAttribute('class', 'profile-point');
        g.setAttribute('data-index', i);
        
        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
        circle.setAttribute('cx', pos.x);
        circle.setAttribute('cy', pos.y);
        circle.setAttribute('r', size);
        circle.setAttribute('fill', profile.color);
        circle.setAttribute('stroke', isCentered ? '#333' : '#666');
        circle.setAttribute('stroke-width', isCentered ? '4' : '2');
        
        const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
        text.setAttribute('x', pos.x);
        text.setAttribute('y', pos.y);
        text.setAttribute('text-anchor', 'middle');
        text.setAttribute('dominant-baseline', 'middle');
        text.setAttribute('font-size', isCentered ? '18' : '14');
        text.setAttribute('font-weight', 'bold');
        text.setAttribute('fill', '#fff');
        text.setAttribute('pointer-events', 'none');
        text.textContent = profile.abbrev;
        
        g.appendChild(circle);
        g.appendChild(text);
        
        // Event listeners
        g.addEventListener('click', () => {
          // Toggle alphabetical mode if clicking the same centered profile
          if (!isAlphabeticalMode && i === currentCenter) {
            isAlphabeticalMode = true;
          } else {
            isAlphabeticalMode = false;
            currentCenter = i;
          }
          render();
          updateSidePanel();
        });
        
        g.addEventListener('mouseenter', () => {
          hoveredProfile = i;
          updateSidePanel();
        });
        
        g.addEventListener('mouseleave', () => {
          hoveredProfile = null;
          updateSidePanel();
        });
        
        svg.appendChild(g);
        
        // Add similarity label for non-centered profiles (only in radial mode)
        if (!isAlphabeticalMode && !isCentered) {
          const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
          label.setAttribute('x', pos.x);
          label.setAttribute('y', pos.y + size + 20);
          label.setAttribute('text-anchor', 'middle');
          label.setAttribute('font-size', '12');
          label.setAttribute('fill', '#666');
          label.setAttribute('pointer-events', 'none');
          label.textContent = pos.similarity.toFixed(3);
          svg.appendChild(label);
        }
      });
    }
    
    // Update side panel with selected and hovered profiles
    function updateSidePanel() {
      const panel = document.getElementById('selected-profile');
      
      let html = '';
      
      if (isAlphabeticalMode) {
        // Alphabetical mode - show hoveredProfile or instructions
        if (hoveredProfile !== null) {
          const hovered = profiles[hoveredProfile];
          html = `
            <div class="profile-card">
              <h2>
                <span class="profile-letter" style="background: ${hovered.color}">
                  ${hovered.abbrev}
                </span>
                ${hovered.name}
              </h2>
              <div class="profile-text">${hovered.profileText}</div>
            </div>
          `;
        } else {
          html = `
            <div style="text-align: center; color: #666; padding: 40px 20px;">
              <h3 style="margin-bottom: 15px;">üìã Alphabetical View</h3>
              <p>All profiles arranged in alphabetical order.</p>
              <p style="margin-top: 15px;">Hover over any profile to see details, or click to explore similarities.</p>
            </div>
          `;
        }
      } else {
        // Radial mode - show centered profile and hovered
        const centered = profiles[currentCenter];
        
        html = `
          <div class="profile-card">
            <h2>
              <span class="profile-letter" style="background: ${centered.color}">
                ${centered.abbrev}
              </span>
              ${centered.name}
            </h2>
            <div class="profile-text">${centered.profileText}</div>
          </div>
        `;
        
        if (hoveredProfile !== null && hoveredProfile !== currentCenter) {
          const hovered = profiles[hoveredProfile];
          const sim = similarities[currentCenter][hoveredProfile];
          
          html += `
            <div class="hover-profile">
              <h3>
                <span class="profile-letter" style="background: ${hovered.color}; width: auto; min-width: 24px; height: 24px; font-size: 12px; padding: 0 4px;">
                  ${hovered.abbrev}
                </span>
                ${hovered.name}
                <span class="similarity-badge">
                  ${(sim * 100).toFixed(1)}% similar
                </span>
              </h3>
              <div class="profile-text">${hovered.profileText}</div>
            </div>
          `;
        }
      }
      
      panel.innerHTML = html;
    }
    
    // Initial render
    render();
    updateSidePanel();
  </script>
</body>
</html>